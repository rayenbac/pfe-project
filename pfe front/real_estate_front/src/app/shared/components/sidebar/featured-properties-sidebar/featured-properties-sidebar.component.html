<div class="terms_condition_widget">
  <h4 class="title">Featured Properties</h4>
  
  <div *ngIf="loading" class="text-center py-3">
    <p class="text-muted">Loading featured properties...</p>
  </div>

  <div *ngIf="error" class="text-center py-3">
    <p class="text-danger">{{ error }}</p>
    <button class="btn btn-sm btn-secondary" (click)="loadFeaturedProperties()">Try Again</button>
  </div>

  <div *ngIf="!loading && !error" class="sidebar_feature_property_slider">
    <div class="item" *ngFor="let property of featuredProperties">
      <div class="feat_property home7 agent">
        <div class="thumb" (click)="goToPropertyDetails(property)" style="cursor: pointer;">
          <img 
            class="img-whp" 
            [src]="getPropertyImageUrl(property)" 
            [alt]="property.title"
            (error)="onImageError($event)">
          <div class="thmb_cntnt">
            <ul class="tag mb0">
              <li class="list-inline-item">
                <a href="#">{{ property.listingType === 'rent' ? 'For Rent' : 'For Sale' }}</a>
              </li>
              <li class="list-inline-item" *ngIf="property.featured">
                <a href="#">Featured</a>
              </li>
            </ul>
            <a class="fp_price" href="#">
              ${{ formatPrice(property.price) }}
              <small *ngIf="property.listingType === 'rent'">/mo</small>
            </a>
            <h4 class="posr color-white">{{ property.title }}</h4>
          </div>
        </div>
      </div>
    </div>
    
    <div *ngIf="featuredProperties.length === 0" class="text-center py-3">
      <p class="text-muted">No featured properties available.</p>
    </div>
  </div>
</div>
