<p>favorites-grid works!</p>
<div class="favorites-container">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h2 class="page-title">
        <i class="fas fa-heart me-2"></i>
        My Favorites
      </h2>
      <p class="text-muted">Properties you've saved for later</p>
    </div>
    <div class="favorites-count">
      <span class="badge bg-primary">{{ favorites.length }} Properties</span>
    </div>
  </div>

  <!-- Message Alert -->
  <div *ngIf="message" class="alert alert-dismissible fade show" 
       [class.alert-success]="messageType === 'success'"
       [class.alert-danger]="messageType === 'error'">
    <i class="fas" [class.fa-check-circle]="messageType === 'success'" 
       [class.fa-exclamation-circle]="messageType === 'error'"></i>
    {{ message }}
    <button type="button" class="btn-close" (click)="clearMessage()"></button>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="text-center p-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-2 text-muted">Loading your favorites...</p>
  </div>

  <!-- Favorites Grid -->
  <div *ngIf="!loading" class="row">
    <div *ngFor="let property of favorites" class="col-lg-4 col-md-6 mb-4">
      <div class="favorite-card">
        <div class="property-image-container">
          <img 
            [src]="property.images?.[0] || 'https://images.pexels.com/photos/186077/pexels-photo-186077.jpeg?auto=compress&cs=tinysrgb&w=400&h=250&fit=crop'"
            alt="{{ property.title }}"
            class="property-image">
          
          <!-- Heart Icon -->
          <button 
            class="favorite-btn active"
            [disabled]="removing === property._id"
            (click)="removeFromFavorites(property)"
            title="Remove from favorites">
            <i *ngIf="removing !== property._id" class="fas fa-heart"></i>
            <i *ngIf="removing === property._id" class="fas fa-spinner fa-spin"></i>
          </button>

          <!-- Property Type Badge -->
          <div class="property-type">
            <span class="badge bg-dark">{{ property.type }}</span>
          </div>
        </div>
        
        <div class="property-content">
          <h5 class="property-title">{{ property.title }}</h5>
          
          <div class="property-location">
            <i class="fas fa-map-marker-alt me-1"></i>
            {{ property.location.address }}
            <br>
            <small>{{ property.location.city }}, {{ property.location.state }} {{ property.location.zipCode }}</small>
          </div>
          
          <div class="property-features">
            <div class="feature">
              <i class="fas fa-bed me-1"></i>
              <span>{{ property.bedrooms }} Bed{{ property.bedrooms !== 1 ? 's' : '' }}</span>
            </div>
            <div class="feature">
              <i class="fas fa-bath me-1"></i>
              <span>{{ property.bathrooms }} Bath{{ property.bathrooms !== 1 ? 's' : '' }}</span>
            </div>
            <div class="feature">
              <i class="fas fa-ruler-combined me-1"></i>
              <span>{{ property.area | number:'1.0-0' }} sqft</span>
            </div>
          </div>

          <!-- Amenities Preview -->
          <div *ngIf="property.amenities && property.amenities.length > 0" class="amenities-preview">
            <span *ngFor="let amenity of property.amenities.slice(0, 3); let last = last" 
                  class="amenity-tag">
              {{ amenity }}<span *ngIf="!last">,</span>
            </span>
            <span *ngIf="property.amenities.length > 3" class="more-amenities">
              +{{ property.amenities.length - 3 }} more
            </span>
          </div>
          
          <div class="property-footer">
            <div class="property-price">
              {{ formatPrice(property.price) }}<span class="period">/month</span>
            </div>
            
            <div class="property-actions">
              <button class="btn btn-outline-primary btn-sm me-2">
                <i class="fas fa-eye me-1"></i>
                View Details
              </button>
              <button class="btn btn-primary btn-sm">
                <i class="fas fa-phone me-1"></i>
                Contact
              </button>
            </div>
          </div>

          <!-- Agent Info -->
          <div class="agent-info">
            <div class="agent-avatar">
              <img 
                src="https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=50&h=50&fit=crop"
                alt="{{ property.agent?.name || 'Agent' }}"
                class="avatar-sm">
            </div>
            <div class="agent-details">
              <div class="agent-name">{{ property.agent?.name || 'N/A' }}</div>
              <div class="agent-contact">{{ property.agent?.phone || 'N/A' }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="favorites.length === 0" class="col-12">
      <div class="empty-state">
        <i class="fas fa-heart-broken"></i>
        <h4>No Favorites Yet</h4>
        <p>Start exploring properties and save the ones you love!</p>
        <button class="btn btn-primary">
          <i class="fas fa-search me-2"></i>
          Browse Properties
        </button>
      </div>
    </div>
  </div>
</div>